<! -- Citation for the following code: -->
<! -- Date: 08/12/2024 -->
<! -- Based on: -->
<! -- Source URL: https://github.com/osu-cs340-ecampus/flask-starter-app -->

<! -- Citation for the following code: -->
<! -- Date: 08/12/2024 -->
<! -- Based on: -->
<! -- Source URL: https://jinja.palletsprojects.com/en/3.1.x/ -->

{% extends "base.j2" %}

{% block content %}
    <h2>Customers</h2>
    <div id="browse">
        <table>
        <!--iterate through data from SQL query and display as table-->
            {% if data %}
                <thead>
                    <tr>
                        {% for key in data[0].keys() %}
					    <th scope="col" data-field="{{ key }}" data-filter-control="input">{{ key }}</th>
                        {% endfor %} 
                    </tr>

                    <tbody>
                        {% for item in data %}
                        <tr>
                            {% for key in item.keys() %}
                                <td> {{item[key]}} </td>
                            {%endfor %}
                        </tr>
                        {% endfor %} 
                     </tbody>
            {% endif %}
        </table>

      <!--Add form will pop up if clicked-->
       <td><button id="add-button" onclick="showAddForm()">Add</button></td>
       </div>

    <!--insert-->
    <form method="post" id="Add_Customer" style="display: none;">
    <h4>Add A Customer to Database</h4>
      <div class="row">
        <div class="three columns">
          <label for="first-name">Customer First Name</label>
          <input type="text" 
                 id="first-name"
                 name="first-name"
                 placeholder="First Name"
                 value="{{ request.form['first-name'] }}"
                 maxlength="100"
                 required>
        </div>
        <div class="three columns">
          <label for="last-name">Customer Last Name</label>
          <input type="text"
                 id="last-name"
                 name="last-name"
                 placeholder="Last Name"
                 value="{{ request.form['last-name'] }}"
                 maxlength="100"
                 required>
        </div>
        <div class="three columns">
          <label for="street">Customer Street Address</label>
          <input type="text" 
                 id="street"
                 name="street"
                 placeholder="Street Address"
                 value="{{ request.form['street'] }}"
                 maxlength="100"
                 required>
        </div>
        <div class="three columns">
          <label for="street2">Customer Street Address 2</label>
          <input type="text" 
                 id="street2"
                 name="street2"
                 placeholder="Street Address 2"
                 maxlength="100"
                 value="{{ request.form['street2'] }}">
        </div>
      </div>
      <div class="row">
        <div class="three columns">
          <label for="city">Customer City</label>
          <input type="text" 
                 id="city"
                 name="city"
                 placeholder="City"
                 value="{{ request.form['city'] }}"
                 maxlength="100"
                 required>
        </div>
        <div class="three columns">
          <label for="state">Customer State</label>
          <input type="text" 
                 id="state"
                 name="state"
                 placeholder="State"
                 value="{{ request.form['state'] }}"
                 maxlength="2"
                 required>
        </div>
        <div class="three columns">
          <label for="zip">Customer Zip Code</label>
          <input type="text" 
                 id="zip"
                 name="zip"
                 placeholder="Zip Code"
                 value="{{ request.form['zip'] }}"
                 maxlength="10"
                 required>
        </div>
        <div class="three columns">
          <label for="email">Customer Email</label>
          <input type="email" 
                 id="email"
                 name="email"
                 placeholder="Email"
                 value="{{ request.form['email'] }}"
                 maxlength="100"
                 required>
        </div>
      </div>
      <label for="phone">Customer Phone Number</label>
      <input type="tel" 
             id="phone"
             name="phone"
             placeholder="Phone Number"
             value="{{ request.form['phone'] }}"
             maxlength="10"
             required>
       <input class="button-primary" type="submit" value="Submit Customer" name="Add_Customer">        
    </form>

<!--Javascript-->
<script>
  <!--Displays add-form if clicked-->
 function showAddForm() {
  document.getElementById('Add_Customer').style.display = 'block';
 }
</script>
{% endblock content %}