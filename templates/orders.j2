{% extends "base.j2" %}

{% block content %}
    <h1>Orders</h1>
    <table id="OrdersTable">
    <tr>
        <th>Order ID</th>
        <th>Customer ID</th>
        <th>Order Date</th>
        <th>Order Price</th>
    </tr>
    <tr>
        <td>1</td>
        <td>5</td>
        <td>2024-03-17</td>
        <td>28930.97</td>
        <td><a href="">Edit</a></td>
        <td><input type="button" value="Delete" onclick="deleteRow(this)"></td>
    </tr>
    <tr>
        <td>2</td>
        <td>4</td>
        <td>2024-07-14</td>
        <td>2999.97</td>
        <td><a href="">Edit</a></td>
        <td><input type="button" value="Delete" onclick="deleteRow(this)"></td>
    </tr>
    <tr>
        <td>3</td>
        <td>4</td>
        <td>2023-11-14</td>
        <td>2999.99</td>
        <td><a href="">Edit</a></td>
        <td><input type="button" value="Delete" onclick="deleteRow(this)"></td>
    </tr>
    <tr>
        <td>4</td>
        <td>2</td>
        <td>2023-12-01</td>
        <td>8599.98</td>
        <td><a href="">Edit</a></td>
        <td><input type="button" value="Delete" onclick="deleteRow(this)"></td>
    </tr>
    <tr>
        <td>5</td>
        <td>1</td>
        <td>2024-01-02</td>
        <td>2999.99</td>
        <td><a href="">Edit</a></td>
        <td><input type="button" value="Delete" onclick="deleteRow(this)"></td>
    </tr>
    </table>

    <h1>{% block orders %} Add An Order to Database {% endblock %}</h1>
    <form method="post">
        <label for="customerID">Customer</label>
        <br>
        <select required id="customerID" name="customerID">
            <option value="" disabled selected>Select the Customer</option>
            <option value="1">ID 1: Naomi Shaw </option>
            <option value="2">ID 2: Brendan Frye</option>
            <option value="3">ID 3: Calvin Melton</option>
            <option value="4">ID 4: Lacey Robbins</option>
            <option value="5">ID 5: Dana Greer</option>
        </select>
        <br>
        <label for="order-date">Order Date</label>
        <br>
        <input type="date" 
               id="order-date"
               name="order-date"
               placeholder="Order Date"
               value="{{ request.form['order-date'] }}"
               required>
        <br>
        <label for="price">Order Price</label>
        <br>
        <input type="text" 
               id="price"
               name="price"
               placeholder="Price"
               value="{{ request.form['price'] }}"
               min="0"
               required>
        <br>
        <button type="submit">Submit</button>
    </form>
<script>
 function deleteRow(r) {
  var i = r.parentNode.parentNode.rowIndex;
  document.getElementById("OrdersTable").deleteRow(i);
} 
</script>
{% endblock content %}

